services:
  - type: web
    name: ed-tech-backend
    runtime: python3
    buildCommand: |
      pip install --upgrade pip setuptools wheel
      pip install -r requirements.txt
      python manage.py migrate --noinput
      python manage.py collectstatic --no-input
    startCommand: python manage.py runserver 0.0.0.0:10000
    envVars:
      - key: DJANGO_SETTINGS_MODULE
        value: edtech_project.settings
      - key: PYTHON_VERSION
        value: 3.13.4
      - key: POETRY_VERSION
        value: 2.1.3
      - key: DEBUG
        value: false
      - key: SECRET_KEY
        value: 4f5e2bac434c38bcf80b3f71df16ad50
      - key: SUPABASE_URL
        value: postgresql://postgres.vuuitrhrnlhvtfssgikl:54G7qr8faBFuXvqK@aws-1-ap-southeast-1.pooler.supabase.com:5432/postgres
      - key: BING_SEARCH_API_KEY
        value: BU6Jztgz9McNbMT8Vo9UwTfT
      - key: SERP_API_KEY
        value: VCkVRCJu88Uwr5xTvXnuWSNC
      - key: YOUTUBE_API_KEY
        value: AIzaSyCfTI56S7y49YbdOyD76_8F0lUDRnSCBFU
      - key: FIRECRAWL_API_KEY
        value: fc-3d9f98b485264031971abb4ab1c36d3e
      - key: GEMINI_API_KEY
        value: AIzaSyAvqciXWMf_fxxifB0hNjzYPN9h2Nxet70
      - key: JWT_SECRET
        value: your-super-secret-jwt-key-256-bits-long-minimum-32-characters-required-for-security
      - key: JWT_ALGORITHM
        value: HS256
      - key: JWT_EXPIRATION_HOURS
        value: 24
      - key: REFRESH_TOKEN_EXPIRATION_DAYS
        value: 7
      - key: RAZORPAY_KEY_ID
        value: rzp_live_RpW8iXPZdjGo6y
      - key: RAZORPAY_KEY_SECRET
        value: bxPr9jrDfrQcCZHfpHmDIURD
      - key: RAZORPAY_ACCOUNT_NUMBER
        value: 2323230099506802
      - key: ALLOWED_HOSTS
        value: ed-tech-backend-tzn8.onrender.com,localhost,127.0.0.1
    plan: free